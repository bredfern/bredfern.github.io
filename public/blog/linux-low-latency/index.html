<!doctype html>
<html lang="en" class="h-100">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <title>The website of musican/developer Brian Redfern.</title>
        <link
            rel="stylesheet"
            type="text/css"
            rel="preload"
            as="style"
            href="/site.css"
        />
    </head>
    <body>
        <div class="container">
            <header>
                <h1><a href="/" id="heading">Brian Redfern</a></h1>
            </header>
            <nav>
                <div class="menu">
                    <ul>
                        <li><a href="/" class="menu-item">Home</a></li>
                        <li><a href="/blog" class="menu-item">Blog</a></li>
                        <li><a href="/songs" class="menu-item">Music</a></li>
                        <li>
                            <a
                                href="https://github.com/bredfern"
                                class="menu-item"
                                target="new"
                                >Github</a
                            >
                        </li>
                    </ul>
                </div>
            </nav>
            <main>
                <div class="centered">
                    <picture>
                        <a href="/"
                            ><img
                                src="/redfern.svg"
                                id="logo"
                                alt="Brian Redfern"
                        /></a>
                    </picture>
                </div>
                <div>
<h2 class="title">
  Linux Low Latency Audio
</h2>
<p class="subtitle"><strong>2024-09-24</strong></p>
<p>Over time its become a lot easier to setup Linux for pro audio uses.</p>
<p>Now in a few short steps we can rapidly modify any modern Linux system for pro audio.</p>
<p>Rather than compiling a realtime kernel, today we can setup PAM to enable high quality,
low latency audio.</p>
<p>To begin with we're going to check how the power management is working. These days you're not
going to need to change any settings as long as this command line call shows "performance" as
the result when your laptop is plugged in.</p>
<p>echo -n performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor</p>
<p>Next we have to configure PAM for it to give us low latency audio.</p>
<p>Open up this file under your favorite text editor using sudo:
/etc/security/limits.conf or /etc/security/limits.d/audio.conf</p>
<p>Then paste this in:
@audio - rtprio 90       # maximum realtime priority
@audio - memlock unlimited  # maximum locked-in-memory address space (KB)</p>
<p>This enables PAM, now we'll make another couple small tweaks and we'll be ready to
reboot into low latency.</p>
<p>Next we add a setting to /etc/sysctl.conf most likely this file will be empty and we
will add:
vm.swappiness = 10</p>
<p>This is especially important for users of lower end hardware, where swap has a bigger
impact on latency.</p>
<p>For our final setting we need to add our user we intend to use for pro audio to the
audio group:</p>
<p>sudo usermod -a -G audio <username>
Where <username> is the username of your pro audio user.</p>
<p>To add yourself (where you're the only user) you can run this:
sudo usermod -a -G audio $USER</p>
<p>And that's it, reboot and you'll have great audio performance and quality, no need for tricky
custom kernels.</p>

</div>
            </main>
            <aside>
                <div class="aside-content">
                    <h3>Contact Me</h3>
                    <hr />
                    <form
                        id="contact-form"
                        action="https://formspree.io/f/xdkngbel"
                        method="POST"
                    >
                        <label for="email">Email:</label>
                        <input type="email" name="email" />
                        <label for="message">Message:</label>
                        <textarea name="message"></textarea>
                        <p><button id="contact-form-button">Submit</button></p>
                        <p id="contact-form-status"></p>
                    </form>
                </div>
            </aside>
            <footer class="centered">&#169; 2024 Brian Redfern</footer>
        </div>
        <script src="/contact.js" defer></script>
    </body>
</html>
